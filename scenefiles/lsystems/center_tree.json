{
  "name": "realistic_oak",
  "globalData": {
    "ambientCoeff": 0.3,
    "diffuseCoeff": 0.7,
    "specularCoeff": 0.4
  },
  "cameraData": {
    "position": [0, 20, -60],
    "look": [0, 0, 1],
    "up": [0, 1, 0],
    "heightAngle": 35
  },
  "groups": [
    {
      "lights": [
        {
          "type": "directional",
          "color": [1.0, 1.0, 1.0],
          "direction": [0.0, 0.3, 0.8]
        }
      ]
    },
    {
      "translate": [9.0, -3.0, 1.0],
      "lights": [
        {
          "type": "point",
          "color": [0.5, 0.5, 0.5],
          "attenuationCoeff": [1, 0, 0]
        }
      ]
    },
    {
      "translate": [-9.0, -3.0, 1.0],
      "lights": [
        {
          "type": "point",
          "color": [0.5, 0.5, 0.5],
          "attenuationCoeff": [1, 0, 0]
        }
      ]
    },

    {
      "lsystem": {
        "axiom": "F(1.5,5.5)F(3.5,5.0)F(2.5,4.5)F(3.0,3.0)A(4.5,3.0,40)",
        "iterations": 8,
        "angle": 35,
        "step": 1.0,
        "stemPrimitive": "cylinder",
        "leafPrimitive": "cone",

        "stemMaterial": {
          "specular": [0.1, 0.1, 0.1],
          "diffuse": [0.35, 0.2, 0.12],
          "ambient": [0.15, 0.08, 0.04],
          "shininess": 2.0,
          "textureFile": "textures/pls.jpg",
          "textureU":1,
          "textureV": 1,
          "blend": 0.5,
          "normalMapFile": "textures/plsN.jpg",
          "normalMapU":1,
          "normalMapV":1,
          "normalMapStrength": 1
        },

        "leafMaterials":[
        {
          "diffuse": [0.557, 0.678, 0.224],
          "ambient": [0.22, 0.27, 0.09],
          "specular": [0.2, 0.2, 0.2],
          "shininess": 15
        },{
          "diffuse": [0.522, 0.620, 0.247],
          "ambient": [0.21, 0.25, 0.10],
          "specular": [0.2, 0.2, 0.2],
          "shininess": 15
        }
      ]
        ,

        "rules": [
          {
            "input": "A",
            "params": ["len", "thick", "angle"],
            "condition": "thick > 0.05",
            "output": "F(len*0.62,thick)[+(angle*0.95)^(6)B(len*1.5,thick*0.4,angle*1.12)]F(len*0.15,thick)L(1)/(117)[+(angle*1.3)^(12)B(len*1.5,thick*0.4,angle*0.92)]F(len*0.09,thick)L(1)/(122)[+(angle*0.85)^(3)B(len*1.5,thick*0.4,angle*0.88)]F(len*0.11,thick)L(1)A(len*0.93,thick*0.55,angle*1.05)",
            "probability": 0.3
          },
          {
            "input": "B",
            "params": ["len", "thick", "angle"],
            "condition": "thick > 0.05",
            "output": "F(len*0.6,thick)L(1)^(6)[+(angle*0.78)B(len*0.88,thick*0.55,angle*0.82)]F(len*0.1,thick)L(1)/(142)[+(angle*0.62)B(len*0.88,thick*0.55,angle*0.9)]F(len*0.08,thick)L(1)/(127)[+(angle*0.95)B(len*0.88,thick*0.55,angle*0.88)]F(len*0.07,thick)L(1)",
            "probability": 0.3
          },
          {
            "input": "B",
            "params": ["len", "thick", "angle"],
            "condition": "thick > 0.05",
            "output": "F(len*0.65,thick)L(1)^(10)[+(angle*1.12)B(len*0.88,thick*0.55,angle*0.98)]F(len*0.12,thick)L(1)/(135)[+(angle*0.52)B(len*0.88,thick*0.55,angle*0.85)]F(len*0.09,thick)L(1)/(148)[+(angle*1.18)B(len*0.88,thick*0.55,angle*0.92)]F(len*0.06,thick)L(1)",
            "probability": 0.3
          },
          {
            "input": "B",
            "params": ["len", "thick", "angle"],
            "condition": "thick > 0.05",
            "output": "F(len*0.45,thick)L(1)^(4)[+(angle*0.92)B(len*0.88,thick*0.55,angle*0.95)]F(len*0.11,thick)L(1)/(118)[+(angle*0.55)B(len*0.88,thick*0.55,angle*0.92)]F(len*0.07,thick)L(1)/(155)[+(angle*0.85)B(len*0.88,thick*0.55,angle*0.9)]F(len*0.05,thick)L(1)",
            "probability": 0.4
          },
          {
            "input": "A",
            "params": ["len", "thick", "angle"],
            "condition": "thick <= 0.05",
            "output": "F(len*0.2,thick)[+(angle*0.8)L(1)]F(len*0.15,thick)[/(90)L(1)]F(len*0.12,thick)[/(180)L(1)]F(len*0.1,thick)[/(270)L(1)]F(len*0.08,thick)[^(20)L(1)][&(20)L(1)]",
            "probability": 1.0
          },
          {
            "input": "B",
            "params": ["len", "thick", "angle"],
            "condition": "thick <= 0.05",
            "output": "F(len*0.15,thick)[+(angle*0.6)L(1)]F(len*0.12,thick)[/(72)L(1)]F(len*0.1,thick)[/(144)L(1)]F(len*0.08,thick)[/(216)L(1)]F(len*0.06,thick)[/(288)L(1)]F(len*0.05,thick)[^(15)L(1)][&(15)L(1)]",
            "probability": 1.0
          }
        ]
      }
    }
  ]
}
